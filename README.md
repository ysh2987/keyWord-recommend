## í”„ë¡œì íŠ¸ ì†Œê°œ

- ê²€ìƒ‰ì–´ ì¶”ì²œ ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°
- ê¸°ê°„: 22.03.21~22.03.25

https://user-images.githubusercontent.com/81687138/162781424-65222bde-47b2-4a30-8a34-42958ea7de99.mp4



## ë°°í¬ë§í¬

[ğŸš€ ë°°í¬ ë§í¬](https://humanscape-ysh.netlify.app/)

## ì‹¤í–‰ ë°©ë²•

```
â‘  í•´ë‹¹ ë ˆí¬ì§€í† ë¦¬ë¥¼ í´ë¡ í•œë‹¤.
â‘¡ í”„ë¡œì íŠ¸ì˜ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œë‹¤. (npm install)
â‘¢ // .envì— api url ì¶”ê°€
REACT_APP_API_URL=https ~ /?name=ê¹Œì§€ ì…ë ¥
â‘£ scripts ëª…ë ¹ì–´ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•œë‹¤. (npm start)
```





## ê¸°ìˆ  ìŠ¤íƒ

![HTML5](https://img.shields.io/badge/html5-%23E34F26.svg?style=for-the-badge&logo=html5&logoColor=white)
![JavaScript](https://img.shields.io/badge/javascript-%23323330.svg?style=for-the-badge&logo=javascript&logoColor=%23F7DF1E)
![React](https://img.shields.io/badge/react-%2320232a.svg?style=for-the-badge&logo=react&logoColor=%2361DAFB)
![Redux](https://img.shields.io/badge/redux-%23593d88.svg?style=for-the-badge&logo=redux&logoColor=white)
![Styled Components](https://img.shields.io/badge/styled--components-DB7093?style=for-the-badge&logo=styled-components&logoColor=white)
<br/>

## ìš”êµ¬ì‚¬í•­

```
- API í˜¸ì¶œ ìµœì í™”
  - í˜¸ì¶œë³„ë¡œ ë¡œì»¬ ìºì‹±ì„ êµ¬í˜„í•©ë‹ˆë‹¤. (expire timeê¹Œì§€ë„ ìˆìœ¼ë©´ ì¢‹ìŒ)
  - ì…ë ¥ ë§ˆë‹¤ í˜¸ì¶œí•˜ì§€ ì•Šê³  ìì‹ ë§Œì˜ ì „ëµìœ¼ë¡œ API í˜¸ì¶œ íšŸìˆ˜ë¥¼ ì¤„ì…ë‹ˆë‹¤. (README.md ì— ì„¤ëª…)
- í‚¤ë³´ë“œë§Œìœ¼ë¡œë„ ì¶”ì²œ ê²€ìƒ‰ì–´ë“¤ë¡œ ì´ë™ì´ ê°€ëŠ¥
- ë°°í¬í•˜ì—¬ ì›¹ì—ì„œ ë°”ë¡œ ì‚¬ìš© í•  ìˆ˜ ìˆë„ë¡ ì œê³µ (README.md ì— url ëª…ì‹œ)
- í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© í•„ìˆ˜
```



## ìœ ì†¡í˜„

## êµ¬í˜„ ë°©ë²•

- API í˜¸ì¶œ ìµœì í™”

  - input ê²€ìƒ‰ì–´ì— ì˜ì¡´í•´ api ìš”ì²­ì„ í•˜ê¸° ë•Œë¬¸ì— ë””ë°”ìš´ìŠ¤ë¥¼ ì‚¬ìš©í•´ ì‚¬ìš©ìì— ì…ë ¥ì´ ì „ë¶€ ëë‚œ ë’¤ ìš”ì²­ì„ ë³´ë‚´ë„ë¡ ì²˜ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.
  - Redux Toolkit Query ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ ì„±ê³µ, ì‹¤íŒ¨, ë¡œë”©ì²˜ë¦¬ì™€ 15ì´ˆì— expire timeì„ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.
  - API í˜¸ì¶œ ìµœì í™”ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ localstorage / react query / redux toolkit ì„¸ê°€ì§€ ë°©ì‹ì¤‘ì— ê³ ë¯¼ì„ í•˜ì˜€ìŠµë‹ˆë‹¤.
  - localstorageë¥¼ ì‚¬ìš©í•´ date Timeê³¼ í•´ë‹¹ í‚¤ì›Œë“œë¥¼ local ì €ì¥í•´ api ìš”ì²­ì„ í•˜ê¸°ì „ localì— ë°ì´í„°ê°€ ìˆê±°ë‚˜ date timeì´ ë§Œë£Œë˜ì—ˆì„ ë•Œë§Œ ìš”ì²­ì„ í•˜ëŠ” ë°©ì‹ë„ ìˆì—ˆì§€ë§Œ reduxë¥¼ ì‚¬ìš©í•˜ê³  ìˆê³  ê°„í¸í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ë§ì´ ìˆì—ˆê¸° ë•Œë¬¸ì— ì„ íƒí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
  - react queryë¡œ Server stateë‚˜ api ì¤‘ë³µ í˜¸ì¶œì„ ê°„í¸í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆì—ˆì§€ë§Œ, react queryë‘ reduxë¥¼ ê°™ì´ ì‚¬ìš©í•˜ê¸°ì—” ë‘˜ë‹¤ ë²ˆë“¤ë§ í•˜ëŠ” ê³¼ì •ì—ì„œ ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¨ì§€í•˜ê¸° ë•Œë¬¸ì— ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ recoil / MobX ë¹„êµì  redux ë³´ë‹¤ ê°€ë²¼ìš´ ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ê³  íŒë‹¨í•´ ì„ íƒí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
  - Redux Toolkit Queryë¥¼ ì„ íƒí•œ ì´ìœ ëŠ” redux toolkitìœ¼ë¡œ ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  ìˆì—ˆê¸° ë•Œë¬¸ì— ì¶”ê°€ì ì¸ ì„¤ì¹˜ ì—†ì´ toolkitì— ë‚´ì¥ë˜ì–´ ìˆìœ¼ë©°, ì‚¬ìš©í•˜ê³  ìˆëŠ” reducerì— ê°„í¸í•˜ê²Œ ì¶”ê°€í•´ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, api í˜¸ì¶œì— ì„±ê³µ / ì‹¤íŒ¨ / ë¡œë”© ì²˜ë¦¬ì™€ ì¤‘ë³µ í˜¸ì¶œì„ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì„ íƒí•˜ì˜€ìŠµë‹ˆë‹¤.

```javascript
export const api = createApi({
  reducerPath: 'api',
  baseQuery: fetchBaseQuery({
    baseUrl: process.env.REACT_APP_API_URL,
  }),
  keepUnusedDataFor: 15,
  endpoints: (builder) => ({
    getKeyword: builder.query({
      query: (keyword) => `${keyword}`,
    }),
  }),
});
```

- ì¶”ì²œ ê²€ìƒ‰ì–´ í‚¤ë³´ë“œë¡œ ì œì–´
  - useRef hookì„ ì‚¬ìš©í•´ inputì´ í™œì„±í™” ëœ ìƒíƒœì—ì„œ arrowDown ì…ë ¥í•  ì‹œ ì¶”ì²œ listì— ì²«ë²ˆì§¸ ìš”ì†Œì— focus í•œë’¤ list ìš”ì†Œì— ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•´ í•´ë‹¹í•˜ëŠ” ìš”ì†Œì— indexë¥¼ ì´ë™í•´ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
  - Enterë¥¼ ì…ë ¥ í•˜ê±°ë‚˜ ìš”ì†Œë¥¼ í´ë¦­í•  ì‹œ ë‹¤ì‹œ inputì— focusë¥¼ ì£¼ì—ˆìœ¼ë©°, inputì—ì„œ Enterë¥¼ ì…ë ¥í•˜ë©´ í•´ë‹¹ ê²€ìƒ‰ì–´ë¡œ ì´ë™í•˜ê²Œ ì²˜ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.

```javascript
 const onChangeTab = (e, index, name) => {
    const first = listRef.current[0];
    const next = listRef.current[index + 1];
    const prev = listRef.current[index - 1];

    if (e.key === 'ArrowDown') {
      e.preventDefault();
      if (next) next.focus();
      else first.focus();
    }

    if (e.key === 'ArrowUp') {
      e.preventDefault();
      if (prev) prev.focus();
      else inputRef.current.focus();
    }

    if (e.key === 'Enter') {
      onChageKeyword(name);
      inputRef.current.focus();
    }
  };
```

## ì–´ë ¤ì› ë˜ ì 
- RTK-Queryë¥¼ í”„ë¡œì íŠ¸ì— ì ìš©í•˜ëŠ” ê²ƒì€ ì–´ë µì§€ ì•Šì•˜ì§€ë§Œ, isLoading ìƒíƒœì—ì„œ ì›í•˜ì§€ ì•ŠëŠ” ë²„ê·¸ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.
- ì²˜ìŒ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ë•ŒëŠ” isLoadingì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ë§Œ ê·¸ ì´í›„ë¡œëŠ” isLoadingì´ í•­ìƒ falseì—¬ì„œ ê²€ìƒ‰ ì¤‘ì¸ í™”ë©´ì„ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.
- isLoadingì— ì¡°ê±´ì— ëŒ€í•´ ì°¾ì•„ë³¸ ê²°ê³¼ ì²« apië¥¼ ìš”ì²­ë§Œ trueë¥¼ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ì²« ìš”ì²­ì—ì„œë§Œ loading ì²˜ë¦¬ê°€ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤. 
- isFetchingì€ ìºì‹œëœ ë°ì´í„°ê°€ ì—†ëŠ” ìš”ì²­ì¼ ê²½ìš° trueë¥¼ ë°˜í™˜í•´ ì›í•˜ëŠ” ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
- isFetching || isLoading ìƒíƒœì¼ ë•Œ ë¡œë”© ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì£¼ì–´ ì²˜ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.
```
if (isLoading || isFetching)
    return <p className="suggest">í•´ë‹¹ ê²€ìƒ‰ì–´ë¡œ ê²€ìƒ‰ì¤‘ì…ë‹ˆë‹¤.</p>;
```
